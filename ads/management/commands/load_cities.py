from django.core.management.base import BaseCommand
from ads.models import City

class Command(BaseCommand):
    help = 'Загружает основные города России'

    def handle(self, *args, **options):
        cities = [
            'Москва', 'Санкт-Петербург', 'Новосибирск', 'Екатеринбург', 'Казань',
            'Нижний Новгород', 'Челябинск', 'Самара', 'Омск', 'Ростов-на-Дону',
            'Уфа', 'Красноярск', 'Воронеж', 'Пермь', 'Волгоград',
            'Краснодар', 'Саратов', 'Тюмень', 'Тольятти', 'Ижевск',
            'Барнаул', 'Ульяновск', 'Иркутск', 'Хабаровск', 'Ярославль',
            'Владивосток', 'Махачкала', 'Томск', 'Оренбург', 'Кемерово',
            'Новокузнецк', 'Рязань', 'Астрахань', 'Набережные Челны', 'Пенза',
            'Липецк', 'Киров', 'Чебоксары', 'Тула', 'Калининград',
            'Балашиха', 'Курск', 'Севастополь', 'Сочи', 'Ставрополь',
            'Улан-Удэ', 'Тверь', 'Магнитогорск', 'Иваново', 'Брянск',
            'Белгород', 'Сургут', 'Владимир', 'Архангельск', 'Чита',
            'Симферополь', 'Калуга', 'Смоленск', 'Волжский', 'Якутск',
            'Саранск', 'Череповец', 'Курган', 'Вологда', 'Орёл',
            'Грозный', 'Владикавказ', 'Мурманск', 'Тамбов', 'Петрозаводск',
            'Нижневартовск', 'Кострома', 'Новороссийск', 'Йошкар-Ола', 'Химки',
            'Таганрог', 'Сыктывкар', 'Нальчик', 'Нижнекамск', 'Шахты',
            'Дзержинск', 'Братск', 'Орск', 'Ангарск', 'Благовещенск',
            'Энгельс', 'Старый Оскол', 'Великий Новгород', 'Королёв', 'Псков',
            'Бийск', 'Прокопьевск', 'Южно-Сахалинск', 'Рыбинск', 'Балаково'
        ]

        for city_name in cities:
            city, created = City.objects.get_or_create(
                name=city_name,
                defaults={'name': city_name}
            )
            if created:
                self.stdout.write(
                    self.style.SUCCESS(f'Добавлен город: {city_name}')
                )
            else:
                self.stdout.write(
                    self.style.WARNING(f'Город уже существует: {city_name}')
                )

        self.stdout.write(
            self.style.SUCCESS('Загрузка городов завершена!')
        )